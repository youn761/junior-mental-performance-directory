{% extends "base.html" %}
{% block title %}Browse Coaches{% endblock %}

{% block content %}
<h1>Browse Coaches</h1>

<form class="filters" method="get" action="/coaches">
  <label>
    Sport
    <select name="sport">
      <option value="">All</option>
      {% for s in sports %}
        <option value="{{ s }}" {% if selected_sport == s %}selected{% endif %}>{{ s }}</option>
      {% endfor %}
    </select>
  </label>

  <label class="checkbox">
    <input type="checkbox" name="remote" value="1" {% if selected_remote %}checked{% endif %}>
    Remote available
  </label>

  <label>
    Focus tag
    <select name="tag">
      <option value="">All</option>
      {% for t in tags %}
        <option value="{{ t }}" {% if selected_tag == t %}selected{% endif %}>{{ t }}</option>
      {% endfor %}
    </select>
  </label>

  <button class="btn" type="submit">Apply</button>
  <a class="btn secondary" href="/coaches">Reset</a>
</form>

<p class="small">{{ providers|length }} result(s)</p>

<div class="list">
  {% for p in providers %}
    <div class="card">
      <div class="row">
        <div>
          <h2 class="h3"><a href="/coach/{{ p.slug }}">{{ p.provider_name }}</a></h2>
          <p class="small">
            {% if p.primary_sport %}<span class="badge">{{ p.primary_sport }}</span>{% endif %}
            {% if p.offers_remote %}<span class="badge">Remote</span>{% endif %}
            {% if p.city or p.state %}<span class="muted"> â€¢ {{ (p.city or '') }}{% if p.city and p.state %}, {% endif %}{{ (p.state or '') }}</span>{% endif %}
          </p>
          {% if p.short_description %}<p>{{ p.short_description }}</p>{% endif %}
          {% if p.focus_tags %}
            <p class="small muted">Focus: {{ p.focus_tags }}</p>
          {% endif %}
        </div>
        <div class="right">
          <a class="btn" href="/coach/{{ p.slug }}">View</a>
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
